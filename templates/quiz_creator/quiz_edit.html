{% extends "base.html" %}
{% load static %}
{% block content %}

{% block extra_css %}
    {{ block.super }}
    <link rel="stylesheet" href="{% static 'css/quiz_edit.css' %}">
{% endblock %}

<div class="edit-container">

  <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–∫—Ç–æ—Ä–∏–Ω—ã: {{ quiz.title }}</h2>

  <h3>–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å</h3>
  <form method="post">
    {% csrf_token %}
    <textarea name="question" placeholder="–í–æ–ø—Ä–æ—Å" required></textarea><br><br>

    <div id="answers">
      <div class="answer">
        <input type="text" name="answer_text" placeholder="–û—Ç–≤–µ—Ç" required>
        <input type="checkbox" name="is_correct" value="0"> –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π
      </div>
    </div>

    <button type="button" class="btn" onclick="addAnswer()">+ –î–æ–±–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç</button>
    <button type="button" class="btn" onclick="removeLastAnswer()">‚àí –£–¥–∞–ª–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç–≤–µ—Ç</button>
    <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
  </form>

  <h3>–£–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h3>
  <hr>
  {% for question in questions %}
    <div class="question-block">
      <p><strong>{{ forloop.counter }}. {{ question.text }}</strong></p>
      <ul>
        {% for answer in question.answers.all %}
          <li>
            {{ answer.text }} {% if answer.is_correct %}‚úÖ{% endif %}
          </li>
        {% endfor %}
      </ul>
      <form method="post" action="{% url 'question_delete' quiz.id question.id %}">
        {% csrf_token %}
        <button type="submit" class="btn">üóë –£–¥–∞–ª–∏—Ç—å –≤–æ–ø—Ä–æ—Å</button>
      </form>
    </div>
  {% empty %}
    <p>–ü–æ–∫–∞ –Ω–µ—Ç –≤–æ–ø—Ä–æ—Å–æ–≤.</p>
  {% endfor %}

  <hr>

  <form method="post" action="{% url 'quiz_finish' quiz.id %}">
    {% csrf_token %}
    <button type="submit" class="finish-btn">‚úÖ –ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ</button>
  </form>

</div>

{% block extra_js %}
    {{ block.super }}
    <script src="{% static 'js/quiz_edit.js' %}"></script>
{% endblock %}

{% endblock %}